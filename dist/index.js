var Jw=Object.defineProperty;var Aw=(f,w)=>{for(var $ in w)Jw(f,$,{get:w[$],enumerable:!0,configurable:!0,set:(J)=>w[$]=()=>J})};var G8="__DESTROY__";var Y8=class{name="worker-child-io";messageQueue=[];resolveRead=null;constructor(){self.onmessage=this.handleMessage}handleMessage=(f)=>{let w=f.data;if(w===G8){this.destroy();return}if(this.resolveRead)this.resolveRead(w),this.resolveRead=null;else this.messageQueue.push(w)};async read(){if(this.messageQueue.length>0)return this.messageQueue.shift()??null;return new Promise((f)=>{this.resolveRead=f})}async write(f){self.postMessage(f)}destroy(){self.postMessage(G8),self.close()}signalDestroy(){self.postMessage(G8)}};function Qw(f,w){if(w instanceof Uint8Array)return{type:"Uint8Array",data:Array.from(w)};return w}function zw(f,w){if(w&&w.type==="Uint8Array"&&Array.isArray(w.data))return new Uint8Array(w.data);return w}function P0(f){return JSON.stringify(f,Qw)+`
`}function $f(f){return new Promise((w,$)=>{try{let J=JSON.parse(f,zw);w(J)}catch(J){console.error("failed to parse message",typeof f,f,J),$(J)}})}function h0(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var A0=class{constructor(f,w){this.io=f,this.apiImplementation=w?.expose,this.listen()}pendingRequests={};callbacks={};callbackCache=new Map;count=0;messageStr="";apiImplementation;expose(f){this.apiImplementation=f}getIO(){return this.io}async listen(){while(!0){let f=await this.io.read();if(!f)continue;let w=f.toString("utf-8");if(w.trim().length===0)continue;this.messageStr+=w;let $=this.messageStr[this.messageStr.length-1],J=this.messageStr.split(`
`),A=$===`
`?J:J.slice(0,-1);this.messageStr=$===`
`?"":J.at(-1)??"";for(let Q of A.map((z)=>z.trim()).filter(Boolean))if(Q.startsWith("{"))this.handleMessageStr(Q);else console.log("(kkrpc stdout passthrough):",Q)}}async handleMessageStr(f){return this.count++,$f(f).then((w)=>{if(w.type==="response")this.handleResponse(w);else if(w.type==="request")this.handleRequest(w);else if(w.type==="callback")this.handleCallback(w);else console.error("received unknown message type",w,typeof w)}).catch((w)=>{console.log("(kkrpc stdout passthrough):",f)})}callMethod(f,w){return new Promise(($,J)=>{let A=h0();this.pendingRequests[A]={resolve:$,reject:J};let Q=[],z=w.map((K)=>{if(typeof K==="function"){let G=this.callbackCache.get(K);if(!G)G=h0(),this.callbacks[G]=K,this.callbackCache.set(K,G);return Q.push(G),`__callback__${G}`}return K}),T={id:A,method:f,args:z,type:"request",callbackIds:Q.length>0?Q:void 0};this.io.write(P0(T))})}handleResponse(f){let{id:w}=f,{result:$,error:J}=f.args;if(this.pendingRequests[w]){if(J)this.pendingRequests[w].reject(new Error(J));else this.pendingRequests[w].resolve($);delete this.pendingRequests[w]}}handleRequest(f){let{id:w,method:$,args:J}=f,A=$.split(".");if(!this.apiImplementation)return;let Q=this.apiImplementation;for(let G=0;G<A.length-1;G++)if(Q=Q[A[G]],!Q){this.sendError(w,`Method path ${$} not found at ${A[G]}`);return}let z=A[A.length-1],T=Q[z];if(typeof T!=="function"){this.sendError(w,`Method ${$} is not a function`);return}let K=J.map((G)=>{if(typeof G==="string"&&G.startsWith("__callback__")){let q=G.slice(12);return(...U)=>{this.invokeCallback(q,U)}}return G});try{let G=T.apply(Q,K);Promise.resolve(G).then((q)=>{return this.sendResponse(w,q)}).catch((q)=>this.sendError(w,q.message))}catch(G){this.sendError(w,G.message??G.toString())}}invokeCallback(f,w){let $={id:h0(),method:f,args:w,type:"callback"};this.io.write(P0($))}handleCallback(f){let{method:w,args:$}=f,J=this.callbacks[w];if(J)J(...$);else console.error(`Callback with id ${w} not found`)}sendResponse(f,w){let $={id:f,method:"",args:{result:w},type:"response"};this.io.write(P0($))}sendError(f,w){let $={id:f,method:"",args:{error:w},type:"response"};this.io.write(P0($))}createNestedProxy(f=[]){return new Proxy(()=>{},{get:(w,$)=>{if(typeof $==="string"&&$!=="then")return this.createNestedProxy([...f,$]);return},apply:(w,$,J)=>{let A=f.join(".");return this.callMethod(A,J)}})}getAPI(){return this.createNestedProxy()}freeCallbacks(){this.callbacks={},this.callbackCache.clear()}};function c(f,w,$,J){if($==="a"&&!J)throw new TypeError("Private accessor was defined without a getter");if(typeof w==="function"?f!==w||!J:!w.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return $==="m"?J:$==="a"?J.call(f):J?J.value:w.get(f)}function l0(f,w,$,J,A){if(J==="m")throw new TypeError("Private method is not writable");if(J==="a"&&!A)throw new TypeError("Private accessor was defined without a setter");if(typeof w==="function"?f!==w||!A:!w.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return J==="a"?A.call(f,$):A?A.value=$:w.set(f,$),$}var H0,t,R0,Kw,Jf="__TAURI_TO_IPC_KEY__";function Af(f,w=!1){return window.__TAURI_INTERNALS__.transformCallback(f,w)}class X8{constructor(){this.__TAURI_CHANNEL_MARKER__=!0,H0.set(this,()=>{}),t.set(this,0),R0.set(this,[]),this.id=Af(({message:f,id:w})=>{if(w==c(this,t,"f")){c(this,H0,"f").call(this,f),l0(this,t,c(this,t,"f")+1,"f");while(c(this,t,"f")in c(this,R0,"f")){let $=c(this,R0,"f")[c(this,t,"f")];c(this,H0,"f").call(this,$),delete c(this,R0,"f")[c(this,t,"f")],l0(this,t,c(this,t,"f")+1,"f")}}else c(this,R0,"f")[w]=f})}set onmessage(f){l0(this,H0,f,"f")}get onmessage(){return c(this,H0,"f")}[(H0=new WeakMap,t=new WeakMap,R0=new WeakMap,Jf)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[Jf]()}}Kw=new WeakMap;var Qf;(function(f){f.WINDOW_RESIZED="tauri://resize",f.WINDOW_MOVED="tauri://move",f.WINDOW_CLOSE_REQUESTED="tauri://close-requested",f.WINDOW_DESTROYED="tauri://destroyed",f.WINDOW_FOCUS="tauri://focus",f.WINDOW_BLUR="tauri://blur",f.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",f.WINDOW_THEME_CHANGED="tauri://theme-changed",f.WINDOW_CREATED="tauri://window-created",f.WEBVIEW_CREATED="tauri://webview-created",f.DRAG_ENTER="tauri://drag-enter",f.DRAG_OVER="tauri://drag-over",f.DRAG_DROP="tauri://drag-drop",f.DRAG_LEAVE="tauri://drag-leave"})(Qf||(Qf={}));var C0;(function(f){f[f.Audio=1]="Audio",f[f.Cache=2]="Cache",f[f.Config=3]="Config",f[f.Data=4]="Data",f[f.LocalData=5]="LocalData",f[f.Document=6]="Document",f[f.Download=7]="Download",f[f.Picture=8]="Picture",f[f.Public=9]="Public",f[f.Video=10]="Video",f[f.Resource=11]="Resource",f[f.Temp=12]="Temp",f[f.AppConfig=13]="AppConfig",f[f.AppData=14]="AppData",f[f.AppLocalData=15]="AppLocalData",f[f.AppCache=16]="AppCache",f[f.AppLog=17]="AppLog",f[f.Desktop=18]="Desktop",f[f.Executable=19]="Executable",f[f.Font=20]="Font",f[f.Home=21]="Home",f[f.Runtime=22]="Runtime",f[f.Template=23]="Template"})(C0||(C0={}));var zf;(function(f){f[f.Trace=1]="Trace",f[f.Debug=2]="Debug",f[f.Info=3]="Info",f[f.Warn=4]="Warn",f[f.Error=5]="Error"})(zf||(zf={}));function U8(f){return async function w($,J){console.log("fetch",$,J);let A=J?.maxRedirections,Q=J?.connectTimeout,z=J?.proxy;if(J!=null)delete J.maxRedirections,delete J.connectTimeout,delete J.proxy;let T=J?.signal,G=(J?.headers==null?[]:J.headers instanceof Headers?Array.from(J.headers.entries()):Array.isArray(J.headers)?J.headers:Object.entries(J.headers)).map(([V,Z])=>[V,typeof Z==="string"?Z:Z.toString()]),q=new Request($,J),U=await q.arrayBuffer(),W=U.byteLength!==0?Array.from(new Uint8Array(U)):null,N=await f.rawFetch({clientConfig:{method:q.method,url:q.url,headers:G,data:W,maxRedirections:A,connectTimeout:Q,proxy:z}});T?.addEventListener("abort",()=>{f.fetchCancel(N)});let{status:Y,statusText:I,url:O,headers:X,rid:H}=await f.fetchSend(N),R=await f.fetchReadBody(H),E=new Response(R instanceof ArrayBuffer&&R.byteLength!==0?R:R instanceof Array&&R.length>0?new Uint8Array(R):null,{headers:X,status:Y,statusText:I});return Object.defineProperty(E,"url",{value:O}),E}}class k0{constructor(){this.eventListeners=Object.create(null)}addListener(f,w){return this.on(f,w)}removeListener(f,w){return this.off(f,w)}on(f,w){if(f in this.eventListeners)this.eventListeners[f].push(w);else this.eventListeners[f]=[w];return this}once(f,w){let $=(J)=>{this.removeListener(f,$),w(J)};return this.addListener(f,$)}off(f,w){if(f in this.eventListeners)this.eventListeners[f]=this.eventListeners[f].filter(($)=>$!==w);return this}removeAllListeners(f){if(f)delete this.eventListeners[f];else this.eventListeners=Object.create(null);return this}emit(f,w){if(f in this.eventListeners){let $=this.eventListeners[f];for(let J of $)J(w);return!0}return!1}listenerCount(f){if(f in this.eventListeners)return this.eventListeners[f].length;return 0}prependListener(f,w){if(f in this.eventListeners)this.eventListeners[f].unshift(w);else this.eventListeners[f]=[w];return this}prependOnceListener(f,w){let $=(J)=>{this.removeListener(f,$),w(J)};return this.prependListener(f,$)}}function M8(f){return{upload:(w,$,J,A)=>f.upload(w,$,J?J:void 0,A),download:(w,$,J,A)=>f.download(w,$,J?J:void 0,A)}}function Kf(f){return{onDragDrop:(w)=>f.onDragDrop(w),onDragEnter:(w)=>f.onDragEnter(w),onDragLeave:(w)=>f.onDragLeave(w),onDragOver:(w)=>f.onDragOver(w),onWindowBlur:(w)=>f.onWindowBlur(w),onWindowCloseRequested:(w)=>f.onWindowCloseRequested(w),onWindowFocus:(w)=>f.onWindowFocus(w)}}function Tf(f){return{BaseDirectory:C0,appCacheDir:f.appCacheDir,appConfigDir:f.appConfigDir,appDataDir:f.appDataDir,appLocalDataDir:f.appLocalDataDir,appLogDir:f.appLogDir,audioDir:f.audioDir,basename:f.basename,cacheDir:f.cacheDir,configDir:f.configDir,dataDir:f.dataDir,delimiter:f.delimiter,desktopDir:f.desktopDir,dirname:f.dirname,documentDir:f.documentDir,downloadDir:f.downloadDir,executableDir:f.executableDir,extname:f.extname,fontDir:f.fontDir,homeDir:f.homeDir,isAbsolute:f.isAbsolute,join:f.join,localDataDir:f.localDataDir,normalize:f.normalize,pictureDir:f.pictureDir,publicDir:f.publicDir,resolve:f.resolve,resolveResource:f.resolveResource,resourceDir:f.resourceDir,runtimeDir:f.runtimeDir,sep:f.sep,tempDir:f.tempDir,templateDir:f.templateDir,videoDir:f.videoDir,extensionDir:f.extensionDir,extensionSupportDir:f.extensionSupportDir}}class y0{pid;api;constructor(f,w){this.pid=f,this.api=w}async write(f){this.api.stdinWrite(f.toString(),this.pid)}kill(){return this.api.kill(this.pid)}}class O8 extends k0{program;args;options;stdout=new k0;stderr=new k0;constructor(f,w=[],$){super();this.program=f,this.args=typeof w==="string"?[w]:w,this.options=$??{}}}class W8 extends O8{api;constructor(f,w=[],$,J){super(f,w,J);this.api=$}async spawn(){let f=this.args;if(typeof f==="object")Object.freeze(f);return this.api.rawSpawn(this.program,f,this.options,(w)=>{switch(w.event){case"Error":this.emit("error",w.payload);break;case"Terminated":this.emit("close",w.payload);break;case"Stdout":this.stdout.emit("data",w.payload);break;case"Stderr":this.stderr.emit("data",w.payload);break}}).then(async(w)=>{return await this.api.recordSpawnedProcess(w),new y0(w,this.api)})}async execute(){let f=this.args;if(typeof f==="object")Object.freeze(f);return this.api.execute(this.program,this.args,this.options)}}class V8 extends O8{config;scriptPath;api;constructor(f,w,$,J){super("deno",w);this.config=$,this.scriptPath=f,this.api=J}execute(){return this.api.denoExecute(this.scriptPath,this.config,this.args)}spawn(){return this.api.denoRawSpawn(this.scriptPath,this.config,this.args,(f)=>{switch(f.event){case"Error":this.emit("error",f.payload);break;case"Terminated":this.emit("close",f.payload);break;case"Stdout":this.stdout.emit("data",f.payload);break;case"Stderr":this.stderr.emit("data",f.payload);break}}).then(async(f)=>{return console.log("spawned deno process",f),await this.api.recordSpawnedProcess(f),new y0(f,this.api)})}}class I8{readStream;childProcess;name="tauri-shell-stdio";constructor(f,w){this.readStream=f;this.childProcess=w}read(){return new Promise((f,w)=>{this.readStream.on("data",($)=>{f($)})})}async write(f){return this.childProcess.write(f+`
`)}}function qf(f){function w(X,H=[],R){return new W8(X,H,f,R)}function $(X,H,R){return new V8(X,H,R,f)}async function J(X,H,R,E){let V=$(X,H,R),Z=await V.spawn(),x=new I8(V.stdout,Z);return{rpcChannel:new A0(x,{expose:E}),process:Z,command:V}}function A(X){return w("bash",["-c",X])}function Q(X){return w("powershell",["-Command",X])}function z(X){return w("osascript",["-e",X])}function T(X){return w("python",["-c",X])}function K(X){return w("zsh",["-c",X])}function G(X){return w("node",["-e",X])}async function q(X){return A(X).execute()}async function U(X){return Q(X).execute()}async function W(X){return z(X).execute()}async function N(X){return T(X).execute()}async function Y(X){return K(X).execute()}async function I(X){return G(X).execute()}function O(){return f.likelyOnWindows()}return{open:f.open,killPid:f.killPid,makeBashScript:A,makePowershellScript:Q,makeAppleScript:z,makePythonScript:T,makeZshScript:K,makeNodeScript:G,executeBashScript:q,executePowershellScript:U,executeAppleScript:W,executePythonScript:N,executeZshScript:Y,executeNodeScript:I,hasCommand:f.hasCommand,likelyOnWindows:O,createCommand:w,createDenoCommand:$,Child:y0,TauriShellStdio:I8,createDenoRpcChannel:J,RPCChannel:A0,whereIsCommand:f.whereIsCommand}}function Gf(f){return{message:(w,$,J)=>f.message(w,$,J?J:void 0),info:(w,$,J)=>f.info(w,$,J?J:void 0),success:(w,$,J)=>f.success(w,$,J?J:void 0),warning:(w,$,J)=>f.warning(w,$,J?J:void 0),error:(w,$,J)=>f.error(w,$,J?J:void 0)}}class v0{}var Tw=new Y8,Yf=new A0(Tw,{}),M0=Yf.getAPI();function Xf(f){Yf.expose(f)}var hJ=Kf(M0.event),lJ=U8(M0.fetch),vJ=Tf(M0.path),rJ=qf(M0.shell),Z8=Gf(M0.toast),mJ=M8(M0.updownload),{db:oJ,kv:nJ,os:iJ,clipboard:Uf,dialog:pJ,fs:tJ,log:sJ,notification:aJ,sysInfo:eJ,network:fA,helper:wA,system:$A,open:JA,utils:AA,app:QA,security:zA}=M0;function Mf(f){if(!Number.isSafeInteger(f)||f<0)throw new Error(`Wrong positive integer: ${f}`)}function j8(f,...w){if(!(f instanceof Uint8Array))throw new Error("Expected Uint8Array");if(w.length>0&&!w.includes(f.length))throw new Error(`Expected Uint8Array of length ${w}, not of length=${f.length}`)}function If(f){if(typeof f!=="function"||typeof f.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Mf(f.outputLen),Mf(f.blockLen)}function E0(f,w=!0){if(f.destroyed)throw new Error("Hash instance has been destroyed");if(w&&f.finished)throw new Error("Hash#digest() has already been called")}function Of(f,w){j8(f);let $=w.outputLen;if(f.length<$)throw new Error(`digestInto() expects output buffer of length at least ${$}`)}var r0=typeof globalThis==="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */var Wf=(f)=>f instanceof Uint8Array;var m0=(f)=>new DataView(f.buffer,f.byteOffset,f.byteLength),o=(f,w)=>f<<32-w|f>>>w,qw=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qw)throw new Error("Non little-endian hardware is not supported");function Gw(f){if(typeof f!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof f}`);return new Uint8Array(new TextEncoder().encode(f))}function b0(f){if(typeof f==="string")f=Gw(f);if(!Wf(f))throw new Error(`expected Uint8Array, got ${typeof f}`);return f}function Vf(...f){let w=new Uint8Array(f.reduce((J,A)=>J+A.length,0)),$=0;return f.forEach((J)=>{if(!Wf(J))throw new Error("Uint8Array expected");w.set(J,$),$+=J.length}),w}class u0{clone(){return this._cloneInto()}}var UA={}.toString;function Zf(f){let w=(J)=>f().update(b0(J)).digest(),$=f();return w.outputLen=$.outputLen,w.blockLen=$.blockLen,w.create=()=>f(),w}function o0(f=32){if(r0&&typeof r0.getRandomValues==="function")return r0.getRandomValues(new Uint8Array(f));throw new Error("crypto.getRandomValues must be defined")}function Yw(f,w,$,J){if(typeof f.setBigUint64==="function")return f.setBigUint64(w,$,J);let A=BigInt(32),Q=BigInt(4294967295),z=Number($>>A&Q),T=Number($&Q),K=J?4:0,G=J?0:4;f.setUint32(w+K,z,J),f.setUint32(w+G,T,J)}class N8 extends u0{constructor(f,w,$,J){super();this.blockLen=f,this.outputLen=w,this.padOffset=$,this.isLE=J,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(f),this.view=m0(this.buffer)}update(f){E0(this);let{view:w,buffer:$,blockLen:J}=this;f=b0(f);let A=f.length;for(let Q=0;Q<A;){let z=Math.min(J-this.pos,A-Q);if(z===J){let T=m0(f);for(;J<=A-Q;Q+=J)this.process(T,Q);continue}if($.set(f.subarray(Q,Q+z),this.pos),this.pos+=z,Q+=z,this.pos===J)this.process(w,0),this.pos=0}return this.length+=f.length,this.roundClean(),this}digestInto(f){E0(this),Of(f,this),this.finished=!0;let{buffer:w,view:$,blockLen:J,isLE:A}=this,{pos:Q}=this;if(w[Q++]=128,this.buffer.subarray(Q).fill(0),this.padOffset>J-Q)this.process($,0),Q=0;for(let q=Q;q<J;q++)w[q]=0;Yw($,J-8,BigInt(this.length*8),A),this.process($,0);let z=m0(f),T=this.outputLen;if(T%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let K=T/4,G=this.get();if(K>G.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<K;q++)z.setUint32(4*q,G[q],A)}digest(){let{buffer:f,outputLen:w}=this;this.digestInto(f);let $=f.slice(0,w);return this.destroy(),$}_cloneInto(f){f||(f=new this.constructor),f.set(...this.get());let{blockLen:w,buffer:$,length:J,finished:A,destroyed:Q,pos:z}=this;if(f.length=J,f.pos=z,f.finished=A,f.destroyed=Q,J%w)f.buffer.set($);return f}}var Xw=(f,w,$)=>f&w^~f&$,Uw=(f,w,$)=>f&w^f&$^w&$,Mw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Q0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),z0=new Uint32Array(64);class jf extends N8{constructor(){super(64,32,8,!1);this.A=Q0[0]|0,this.B=Q0[1]|0,this.C=Q0[2]|0,this.D=Q0[3]|0,this.E=Q0[4]|0,this.F=Q0[5]|0,this.G=Q0[6]|0,this.H=Q0[7]|0}get(){let{A:f,B:w,C:$,D:J,E:A,F:Q,G:z,H:T}=this;return[f,w,$,J,A,Q,z,T]}set(f,w,$,J,A,Q,z,T){this.A=f|0,this.B=w|0,this.C=$|0,this.D=J|0,this.E=A|0,this.F=Q|0,this.G=z|0,this.H=T|0}process(f,w){for(let q=0;q<16;q++,w+=4)z0[q]=f.getUint32(w,!1);for(let q=16;q<64;q++){let U=z0[q-15],W=z0[q-2],N=o(U,7)^o(U,18)^U>>>3,Y=o(W,17)^o(W,19)^W>>>10;z0[q]=Y+z0[q-7]+N+z0[q-16]|0}let{A:$,B:J,C:A,D:Q,E:z,F:T,G:K,H:G}=this;for(let q=0;q<64;q++){let U=o(z,6)^o(z,11)^o(z,25),W=G+U+Xw(z,T,K)+Mw[q]+z0[q]|0,Y=(o($,2)^o($,13)^o($,22))+Uw($,J,A)|0;G=K,K=T,T=z,z=Q+W|0,Q=A,A=J,J=$,$=W+Y|0}$=$+this.A|0,J=J+this.B|0,A=A+this.C|0,Q=Q+this.D|0,z=z+this.E|0,T=T+this.F|0,K=K+this.G|0,G=G+this.H|0,this.set($,J,A,Q,z,T,K,G)}roundClean(){z0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}var n0=Zf(()=>new jf);var x8={};Aw(x8,{validateObject:()=>K0,utf8ToBytes:()=>Zw,numberToVarBytesBE:()=>Ww,numberToHexUnpadded:()=>Rf,numberToBytesLE:()=>s0,numberToBytesBE:()=>n,hexToNumber:()=>R8,hexToBytes:()=>O0,equalBytes:()=>Vw,ensureBytes:()=>y,createHmacDrbg:()=>E8,concatBytes:()=>a,bytesToNumberLE:()=>t0,bytesToNumberBE:()=>d,bytesToHex:()=>I0,bitSet:()=>Hw,bitMask:()=>_0,bitLen:()=>jw,bitGet:()=>Nw});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var Hf=BigInt(0),i0=BigInt(1),Iw=BigInt(2),p0=(f)=>f instanceof Uint8Array,Ow=Array.from({length:256},(f,w)=>w.toString(16).padStart(2,"0"));function I0(f){if(!p0(f))throw new Error("Uint8Array expected");let w="";for(let $=0;$<f.length;$++)w+=Ow[f[$]];return w}function Rf(f){let w=f.toString(16);return w.length&1?`0${w}`:w}function R8(f){if(typeof f!=="string")throw new Error("hex string expected, got "+typeof f);return BigInt(f===""?"0":`0x${f}`)}function O0(f){if(typeof f!=="string")throw new Error("hex string expected, got "+typeof f);let w=f.length;if(w%2)throw new Error("padded hex string expected, got unpadded hex of length "+w);let $=new Uint8Array(w/2);for(let J=0;J<$.length;J++){let A=J*2,Q=f.slice(A,A+2),z=Number.parseInt(Q,16);if(Number.isNaN(z)||z<0)throw new Error("Invalid byte sequence");$[J]=z}return $}function d(f){return R8(I0(f))}function t0(f){if(!p0(f))throw new Error("Uint8Array expected");return R8(I0(Uint8Array.from(f).reverse()))}function n(f,w){return O0(f.toString(16).padStart(w*2,"0"))}function s0(f,w){return n(f,w).reverse()}function Ww(f){return O0(Rf(f))}function y(f,w,$){let J;if(typeof w==="string")try{J=O0(w)}catch(Q){throw new Error(`${f} must be valid hex string, got "${w}". Cause: ${Q}`)}else if(p0(w))J=Uint8Array.from(w);else throw new Error(`${f} must be hex string or Uint8Array`);let A=J.length;if(typeof $==="number"&&A!==$)throw new Error(`${f} expected ${$} bytes, got ${A}`);return J}function a(...f){let w=new Uint8Array(f.reduce((J,A)=>J+A.length,0)),$=0;return f.forEach((J)=>{if(!p0(J))throw new Error("Uint8Array expected");w.set(J,$),$+=J.length}),w}function Vw(f,w){if(f.length!==w.length)return!1;for(let $=0;$<f.length;$++)if(f[$]!==w[$])return!1;return!0}function Zw(f){if(typeof f!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof f}`);return new Uint8Array(new TextEncoder().encode(f))}function jw(f){let w;for(w=0;f>Hf;f>>=i0,w+=1);return w}function Nw(f,w){return f>>BigInt(w)&i0}var Hw=(f,w,$)=>{return f|($?i0:Hf)<<BigInt(w)},_0=(f)=>(Iw<<BigInt(f-1))-i0,H8=(f)=>new Uint8Array(f),Nf=(f)=>Uint8Array.from(f);function E8(f,w,$){if(typeof f!=="number"||f<2)throw new Error("hashLen must be a number");if(typeof w!=="number"||w<2)throw new Error("qByteLen must be a number");if(typeof $!=="function")throw new Error("hmacFn must be a function");let J=H8(f),A=H8(f),Q=0,z=()=>{J.fill(1),A.fill(0),Q=0},T=(...U)=>$(A,J,...U),K=(U=H8())=>{if(A=T(Nf([0]),U),J=T(),U.length===0)return;A=T(Nf([1]),U),J=T()},G=()=>{if(Q++>=1000)throw new Error("drbg: tried 1000 values");let U=0,W=[];while(U<w){J=T();let N=J.slice();W.push(N),U+=J.length}return a(...W)};return(U,W)=>{z(),K(U);let N=void 0;while(!(N=W(G())))K();return z(),N}}var Rw={bigint:(f)=>typeof f==="bigint",function:(f)=>typeof f==="function",boolean:(f)=>typeof f==="boolean",string:(f)=>typeof f==="string",stringOrUint8Array:(f)=>typeof f==="string"||f instanceof Uint8Array,isSafeInteger:(f)=>Number.isSafeInteger(f),array:(f)=>Array.isArray(f),field:(f,w)=>w.Fp.isValid(f),hash:(f)=>typeof f==="function"&&Number.isSafeInteger(f.outputLen)};function K0(f,w,$={}){let J=(A,Q,z)=>{let T=Rw[Q];if(typeof T!=="function")throw new Error(`Invalid validator "${Q}", expected function`);let K=f[A];if(z&&K===void 0)return;if(!T(K,f))throw new Error(`Invalid param ${String(A)}=${K} (${typeof K}), expected ${Q}`)};for(let[A,Q]of Object.entries(w))J(A,Q,!1);for(let[A,Q]of Object.entries($))J(A,Q,!0);return f}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var u=BigInt(0),C=BigInt(1),W0=BigInt(2),Ew=BigInt(3),D8=BigInt(4),Ef=BigInt(5),xf=BigInt(8),xw=BigInt(9),Dw=BigInt(16);function b(f,w){let $=f%w;return $>=u?$:w+$}function Sw(f,w,$){if($<=u||w<u)throw new Error("Expected power/modulo > 0");if($===C)return u;let J=C;while(w>u){if(w&C)J=J*f%$;f=f*f%$,w>>=C}return J}function l(f,w,$){let J=f;while(w-- >u)J*=J,J%=$;return J}function a0(f,w){if(f===u||w<=u)throw new Error(`invert: expected positive integers, got n=${f} mod=${w}`);let $=b(f,w),J=w,A=u,Q=C,z=C,T=u;while($!==u){let G=J/$,q=J%$,U=A-z*G,W=Q-T*G;J=$,$=q,A=z,Q=T,z=U,T=W}if(J!==C)throw new Error("invert: does not exist");return b(A,w)}function Lw(f){let w=(f-C)/W0,$,J,A;for($=f-C,J=0;$%W0===u;$/=W0,J++);for(A=W0;A<f&&Sw(A,w,f)!==f-C;A++);if(J===1){let z=(f+C)/D8;return function T(K,G){let q=K.pow(G,z);if(!K.eql(K.sqr(q),G))throw new Error("Cannot find square root");return q}}let Q=($+C)/W0;return function z(T,K){if(T.pow(K,w)===T.neg(T.ONE))throw new Error("Cannot find square root");let G=J,q=T.pow(T.mul(T.ONE,A),$),U=T.pow(K,Q),W=T.pow(K,$);while(!T.eql(W,T.ONE)){if(T.eql(W,T.ZERO))return T.ZERO;let N=1;for(let I=T.sqr(W);N<G;N++){if(T.eql(I,T.ONE))break;I=T.sqr(I)}let Y=T.pow(q,C<<BigInt(G-N-1));q=T.sqr(Y),U=T.mul(U,Y),W=T.mul(W,q),G=N}return U}}function Pw(f){if(f%D8===Ew){let w=(f+C)/D8;return function $(J,A){let Q=J.pow(A,w);if(!J.eql(J.sqr(Q),A))throw new Error("Cannot find square root");return Q}}if(f%xf===Ef){let w=(f-Ef)/xf;return function $(J,A){let Q=J.mul(A,W0),z=J.pow(Q,w),T=J.mul(A,z),K=J.mul(J.mul(T,W0),z),G=J.mul(T,J.sub(K,J.ONE));if(!J.eql(J.sqr(G),A))throw new Error("Cannot find square root");return G}}if(f%Dw===xw);return Lw(f)}var Bw=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function S8(f){let w={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},$=Bw.reduce((J,A)=>{return J[A]="function",J},w);return K0(f,$)}function Cw(f,w,$){if($<u)throw new Error("Expected power > 0");if($===u)return f.ONE;if($===C)return w;let J=f.ONE,A=w;while($>u){if($&C)J=f.mul(J,A);A=f.sqr(A),$>>=C}return J}function kw(f,w){let $=new Array(w.length),J=w.reduce((Q,z,T)=>{if(f.is0(z))return Q;return $[T]=Q,f.mul(Q,z)},f.ONE),A=f.inv(J);return w.reduceRight((Q,z,T)=>{if(f.is0(z))return Q;return $[T]=f.mul(Q,$[T]),f.mul(Q,z)},A),$}function L8(f,w){let $=w!==void 0?w:f.toString(2).length,J=Math.ceil($/8);return{nBitLength:$,nByteLength:J}}function Df(f,w,$=!1,J={}){if(f<=u)throw new Error(`Expected Field ORDER > 0, got ${f}`);let{nBitLength:A,nByteLength:Q}=L8(f,w);if(Q>2048)throw new Error("Field lengths over 2048 bytes are not supported");let z=Pw(f),T=Object.freeze({ORDER:f,BITS:A,BYTES:Q,MASK:_0(A),ZERO:u,ONE:C,create:(K)=>b(K,f),isValid:(K)=>{if(typeof K!=="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof K}`);return u<=K&&K<f},is0:(K)=>K===u,isOdd:(K)=>(K&C)===C,neg:(K)=>b(-K,f),eql:(K,G)=>K===G,sqr:(K)=>b(K*K,f),add:(K,G)=>b(K+G,f),sub:(K,G)=>b(K-G,f),mul:(K,G)=>b(K*G,f),pow:(K,G)=>Cw(T,K,G),div:(K,G)=>b(K*a0(G,f),f),sqrN:(K)=>K*K,addN:(K,G)=>K+G,subN:(K,G)=>K-G,mulN:(K,G)=>K*G,inv:(K)=>a0(K,f),sqrt:J.sqrt||((K)=>z(T,K)),invertBatch:(K)=>kw(T,K),cmov:(K,G,q)=>q?G:K,toBytes:(K)=>$?s0(K,Q):n(K,Q),fromBytes:(K)=>{if(K.length!==Q)throw new Error(`Fp.fromBytes: expected ${Q}, got ${K.length}`);return $?t0(K):d(K)}});return Object.freeze(T)}function Sf(f){if(typeof f!=="bigint")throw new Error("field order must be bigint");let w=f.toString(2).length;return Math.ceil(w/8)}function P8(f){let w=Sf(f);return w+Math.ceil(w/2)}function Lf(f,w,$=!1){let J=f.length,A=Sf(w),Q=P8(w);if(J<16||J<Q||J>1024)throw new Error(`expected ${Q}-1024 bytes of input, got ${J}`);let z=$?d(f):t0(f),T=b(z,w-C)+C;return $?s0(T,A):n(T,A)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var bw=BigInt(0),B8=BigInt(1);function Pf(f,w){let $=(A,Q)=>{let z=Q.negate();return A?z:Q},J=(A)=>{let Q=Math.ceil(w/A)+1,z=2**(A-1);return{windows:Q,windowSize:z}};return{constTimeNegate:$,unsafeLadder(A,Q){let z=f.ZERO,T=A;while(Q>bw){if(Q&B8)z=z.add(T);T=T.double(),Q>>=B8}return z},precomputeWindow(A,Q){let{windows:z,windowSize:T}=J(Q),K=[],G=A,q=G;for(let U=0;U<z;U++){q=G,K.push(q);for(let W=1;W<T;W++)q=q.add(G),K.push(q);G=q.double()}return K},wNAF(A,Q,z){let{windows:T,windowSize:K}=J(A),G=f.ZERO,q=f.BASE,U=BigInt(2**A-1),W=2**A,N=BigInt(A);for(let Y=0;Y<T;Y++){let I=Y*K,O=Number(z&U);if(z>>=N,O>K)O-=W,z+=B8;let X=I,H=I+Math.abs(O)-1,R=Y%2!==0,E=O<0;if(O===0)q=q.add($(R,Q[X]));else G=G.add($(E,Q[H]))}return{p:G,f:q}},wNAFCached(A,Q,z,T){let K=A._WINDOW_SIZE||1,G=Q.get(A);if(!G){if(G=this.precomputeWindow(A,K),K!==1)Q.set(A,T(G))}return this.wNAF(K,G,z)}}}function C8(f){return S8(f.Fp),K0(f,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...L8(f.n,f.nBitLength),...f,...{p:f.Fp.ORDER}})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uw(f){let w=C8(f);K0(w,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:$,Fp:J,a:A}=w;if($){if(!J.eql(A,J.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof $!=="object"||typeof $.beta!=="bigint"||typeof $.splitScalar!=="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...w})}var{bytesToNumberBE:_w,hexToBytes:dw}=x8,V0={Err:class f extends Error{constructor(w=""){super(w)}},_parseInt(f){let{Err:w}=V0;if(f.length<2||f[0]!==2)throw new w("Invalid signature integer tag");let $=f[1],J=f.subarray(2,$+2);if(!$||J.length!==$)throw new w("Invalid signature integer: wrong length");if(J[0]&128)throw new w("Invalid signature integer: negative");if(J[0]===0&&!(J[1]&128))throw new w("Invalid signature integer: unnecessary leading zero");return{d:_w(J),l:f.subarray($+2)}},toSig(f){let{Err:w}=V0,$=typeof f==="string"?dw(f):f;if(!($ instanceof Uint8Array))throw new Error("ui8a expected");let J=$.length;if(J<2||$[0]!=48)throw new w("Invalid signature tag");if($[1]!==J-2)throw new w("Invalid signature: incorrect length");let{d:A,l:Q}=V0._parseInt($.subarray(2)),{d:z,l:T}=V0._parseInt(Q);if(T.length)throw new w("Invalid signature: left bytes after parsing");return{r:A,s:z}},hexFromSig(f){let w=(G)=>Number.parseInt(G[0],16)&8?"00"+G:G,$=(G)=>{let q=G.toString(16);return q.length&1?`0${q}`:q},J=w($(f.s)),A=w($(f.r)),Q=J.length/2,z=A.length/2,T=$(Q),K=$(z);return`30${$(z+Q+4)}02${K}${A}02${T}${J}`}},e=BigInt(0),r=BigInt(1),SA=BigInt(2),Bf=BigInt(3),LA=BigInt(4);function gw(f){let w=uw(f),{Fp:$}=w,J=w.toBytes||((Y,I,O)=>{let X=I.toAffine();return a(Uint8Array.from([4]),$.toBytes(X.x),$.toBytes(X.y))}),A=w.fromBytes||((Y)=>{let I=Y.subarray(1),O=$.fromBytes(I.subarray(0,$.BYTES)),X=$.fromBytes(I.subarray($.BYTES,2*$.BYTES));return{x:O,y:X}});function Q(Y){let{a:I,b:O}=w,X=$.sqr(Y),H=$.mul(X,Y);return $.add($.add(H,$.mul(Y,I)),O)}if(!$.eql($.sqr(w.Gy),Q(w.Gx)))throw new Error("bad generator point: equation left != right");function z(Y){return typeof Y==="bigint"&&e<Y&&Y<w.n}function T(Y){if(!z(Y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function K(Y){let{allowedPrivateKeyLengths:I,nByteLength:O,wrapPrivateKey:X,n:H}=w;if(I&&typeof Y!=="bigint"){if(Y instanceof Uint8Array)Y=I0(Y);if(typeof Y!=="string"||!I.includes(Y.length))throw new Error("Invalid key");Y=Y.padStart(O*2,"0")}let R;try{R=typeof Y==="bigint"?Y:d(y("private key",Y,O))}catch(E){throw new Error(`private key must be ${O} bytes, hex or bigint, not ${typeof Y}`)}if(X)R=b(R,H);return T(R),R}let G=new Map;function q(Y){if(!(Y instanceof U))throw new Error("ProjectivePoint expected")}class U{constructor(Y,I,O){if(this.px=Y,this.py=I,this.pz=O,Y==null||!$.isValid(Y))throw new Error("x required");if(I==null||!$.isValid(I))throw new Error("y required");if(O==null||!$.isValid(O))throw new Error("z required")}static fromAffine(Y){let{x:I,y:O}=Y||{};if(!Y||!$.isValid(I)||!$.isValid(O))throw new Error("invalid affine point");if(Y instanceof U)throw new Error("projective point not allowed");let X=(H)=>$.eql(H,$.ZERO);if(X(I)&&X(O))return U.ZERO;return new U(I,O,$.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Y){let I=$.invertBatch(Y.map((O)=>O.pz));return Y.map((O,X)=>O.toAffine(I[X])).map(U.fromAffine)}static fromHex(Y){let I=U.fromAffine(A(y("pointHex",Y)));return I.assertValidity(),I}static fromPrivateKey(Y){return U.BASE.multiply(K(Y))}_setWindowSize(Y){this._WINDOW_SIZE=Y,G.delete(this)}assertValidity(){if(this.is0()){if(w.allowInfinityPoint&&!$.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:Y,y:I}=this.toAffine();if(!$.isValid(Y)||!$.isValid(I))throw new Error("bad point: x or y not FE");let O=$.sqr(I),X=Q(Y);if(!$.eql(O,X))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:Y}=this.toAffine();if($.isOdd)return!$.isOdd(Y);throw new Error("Field doesn't support isOdd")}equals(Y){q(Y);let{px:I,py:O,pz:X}=this,{px:H,py:R,pz:E}=Y,V=$.eql($.mul(I,E),$.mul(H,X)),Z=$.eql($.mul(O,E),$.mul(R,X));return V&&Z}negate(){return new U(this.px,$.neg(this.py),this.pz)}double(){let{a:Y,b:I}=w,O=$.mul(I,Bf),{px:X,py:H,pz:R}=this,E=$.ZERO,V=$.ZERO,Z=$.ZERO,x=$.mul(X,X),v=$.mul(H,H),L=$.mul(R,R),S=$.mul(X,H);return S=$.add(S,S),Z=$.mul(X,R),Z=$.add(Z,Z),E=$.mul(Y,Z),V=$.mul(O,L),V=$.add(E,V),E=$.sub(v,V),V=$.add(v,V),V=$.mul(E,V),E=$.mul(S,E),Z=$.mul(O,Z),L=$.mul(Y,L),S=$.sub(x,L),S=$.mul(Y,S),S=$.add(S,Z),Z=$.add(x,x),x=$.add(Z,x),x=$.add(x,L),x=$.mul(x,S),V=$.add(V,x),L=$.mul(H,R),L=$.add(L,L),x=$.mul(L,S),E=$.sub(E,x),Z=$.mul(L,v),Z=$.add(Z,Z),Z=$.add(Z,Z),new U(E,V,Z)}add(Y){q(Y);let{px:I,py:O,pz:X}=this,{px:H,py:R,pz:E}=Y,V=$.ZERO,Z=$.ZERO,x=$.ZERO,v=w.a,L=$.mul(w.b,Bf),S=$.mul(I,H),g=$.mul(O,R),F=$.mul(X,E),J0=$.add(I,O),_=$.add(H,R);J0=$.mul(J0,_),_=$.add(S,g),J0=$.sub(J0,_),_=$.add(I,X);let M=$.add(H,E);return _=$.mul(_,M),M=$.add(S,F),_=$.sub(_,M),M=$.add(O,X),V=$.add(R,E),M=$.mul(M,V),V=$.add(g,F),M=$.sub(M,V),x=$.mul(v,_),V=$.mul(L,F),x=$.add(V,x),V=$.sub(g,x),x=$.add(g,x),Z=$.mul(V,x),g=$.add(S,S),g=$.add(g,S),F=$.mul(v,F),_=$.mul(L,_),g=$.add(g,F),F=$.sub(S,F),F=$.mul(v,F),_=$.add(_,F),S=$.mul(g,_),Z=$.add(Z,S),S=$.mul(M,_),V=$.mul(J0,V),V=$.sub(V,S),S=$.mul(J0,g),x=$.mul(M,x),x=$.add(x,S),new U(V,Z,x)}subtract(Y){return this.add(Y.negate())}is0(){return this.equals(U.ZERO)}wNAF(Y){return N.wNAFCached(this,G,Y,(I)=>{let O=$.invertBatch(I.map((X)=>X.pz));return I.map((X,H)=>X.toAffine(O[H])).map(U.fromAffine)})}multiplyUnsafe(Y){let I=U.ZERO;if(Y===e)return I;if(T(Y),Y===r)return this;let{endo:O}=w;if(!O)return N.unsafeLadder(this,Y);let{k1neg:X,k1:H,k2neg:R,k2:E}=O.splitScalar(Y),V=I,Z=I,x=this;while(H>e||E>e){if(H&r)V=V.add(x);if(E&r)Z=Z.add(x);x=x.double(),H>>=r,E>>=r}if(X)V=V.negate();if(R)Z=Z.negate();return Z=new U($.mul(Z.px,O.beta),Z.py,Z.pz),V.add(Z)}multiply(Y){T(Y);let I=Y,O,X,{endo:H}=w;if(H){let{k1neg:R,k1:E,k2neg:V,k2:Z}=H.splitScalar(I),{p:x,f:v}=this.wNAF(E),{p:L,f:S}=this.wNAF(Z);x=N.constTimeNegate(R,x),L=N.constTimeNegate(V,L),L=new U($.mul(L.px,H.beta),L.py,L.pz),O=x.add(L),X=v.add(S)}else{let{p:R,f:E}=this.wNAF(I);O=R,X=E}return U.normalizeZ([O,X])[0]}multiplyAndAddUnsafe(Y,I,O){let X=U.BASE,H=(E,V)=>V===e||V===r||!E.equals(X)?E.multiplyUnsafe(V):E.multiply(V),R=H(this,I).add(H(Y,O));return R.is0()?void 0:R}toAffine(Y){let{px:I,py:O,pz:X}=this,H=this.is0();if(Y==null)Y=H?$.ONE:$.inv(X);let R=$.mul(I,Y),E=$.mul(O,Y),V=$.mul(X,Y);if(H)return{x:$.ZERO,y:$.ZERO};if(!$.eql(V,$.ONE))throw new Error("invZ was invalid");return{x:R,y:E}}isTorsionFree(){let{h:Y,isTorsionFree:I}=w;if(Y===r)return!0;if(I)return I(U,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:Y,clearCofactor:I}=w;if(Y===r)return this;if(I)return I(U,this);return this.multiplyUnsafe(w.h)}toRawBytes(Y=!0){return this.assertValidity(),J(U,this,Y)}toHex(Y=!0){return I0(this.toRawBytes(Y))}}U.BASE=new U(w.Gx,w.Gy,$.ONE),U.ZERO=new U($.ZERO,$.ONE,$.ZERO);let W=w.nBitLength,N=Pf(U,w.endo?Math.ceil(W/2):W);return{CURVE:w,ProjectivePoint:U,normPrivateKeyToScalar:K,weierstrassEquation:Q,isWithinCurveOrder:z}}function cw(f){let w=C8(f);return K0(w,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...w})}function Cf(f){let w=cw(f),{Fp:$,n:J}=w,A=$.BYTES+1,Q=2*$.BYTES+1;function z(M){return e<M&&M<$.ORDER}function T(M){return b(M,J)}function K(M){return a0(M,J)}let{ProjectivePoint:G,normPrivateKeyToScalar:q,weierstrassEquation:U,isWithinCurveOrder:W}=gw({...w,toBytes(M,j,D){let P=j.toAffine(),B=$.toBytes(P.x),k=a;if(D)return k(Uint8Array.from([j.hasEvenY()?2:3]),B);else return k(Uint8Array.from([4]),B,$.toBytes(P.y))},fromBytes(M){let j=M.length,D=M[0],P=M.subarray(1);if(j===A&&(D===2||D===3)){let B=d(P);if(!z(B))throw new Error("Point is not on curve");let k=U(B),m=$.sqrt(k),h=(m&r)===r;if((D&1)===1!==h)m=$.neg(m);return{x:B,y:m}}else if(j===Q&&D===4){let B=$.fromBytes(P.subarray(0,$.BYTES)),k=$.fromBytes(P.subarray($.BYTES,2*$.BYTES));return{x:B,y:k}}else throw new Error(`Point of length ${j} was invalid. Expected ${A} compressed bytes or ${Q} uncompressed bytes`)}}),N=(M)=>I0(n(M,w.nByteLength));function Y(M){let j=J>>r;return M>j}function I(M){return Y(M)?T(-M):M}let O=(M,j,D)=>d(M.slice(j,D));class X{constructor(M,j,D){this.r=M,this.s=j,this.recovery=D,this.assertValidity()}static fromCompact(M){let j=w.nByteLength;return M=y("compactSignature",M,j*2),new X(O(M,0,j),O(M,j,2*j))}static fromDER(M){let{r:j,s:D}=V0.toSig(y("DER",M));return new X(j,D)}assertValidity(){if(!W(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!W(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new X(this.r,this.s,M)}recoverPublicKey(M){let{r:j,s:D,recovery:P}=this,B=x(y("msgHash",M));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");let k=P===2||P===3?j+w.n:j;if(k>=$.ORDER)throw new Error("recovery id 2 or 3 invalid");let m=(P&1)===0?"02":"03",h=G.fromHex(m+N(k)),s=K(k),Y0=T(-B*s),Z0=T(D*s),X0=G.BASE.multiplyAndAddUnsafe(h,Y0,Z0);if(!X0)throw new Error("point at infinify");return X0.assertValidity(),X0}hasHighS(){return Y(this.s)}normalizeS(){return this.hasHighS()?new X(this.r,T(-this.s),this.recovery):this}toDERRawBytes(){return O0(this.toDERHex())}toDERHex(){return V0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return O0(this.toCompactHex())}toCompactHex(){return N(this.r)+N(this.s)}}let H={isValidPrivateKey(M){try{return q(M),!0}catch(j){return!1}},normPrivateKeyToScalar:q,randomPrivateKey:()=>{let M=P8(w.n);return Lf(w.randomBytes(M),w.n)},precompute(M=8,j=G.BASE){return j._setWindowSize(M),j.multiply(BigInt(3)),j}};function R(M,j=!0){return G.fromPrivateKey(M).toRawBytes(j)}function E(M){let j=M instanceof Uint8Array,D=typeof M==="string",P=(j||D)&&M.length;if(j)return P===A||P===Q;if(D)return P===2*A||P===2*Q;if(M instanceof G)return!0;return!1}function V(M,j,D=!0){if(E(M))throw new Error("first arg must be private key");if(!E(j))throw new Error("second arg must be public key");return G.fromHex(j).multiply(q(M)).toRawBytes(D)}let Z=w.bits2int||function(M){let j=d(M),D=M.length*8-w.nBitLength;return D>0?j>>BigInt(D):j},x=w.bits2int_modN||function(M){return T(Z(M))},v=_0(w.nBitLength);function L(M){if(typeof M!=="bigint")throw new Error("bigint expected");if(!(e<=M&&M<v))throw new Error(`bigint expected < 2^${w.nBitLength}`);return n(M,w.nByteLength)}function S(M,j,D=g){if(["recovered","canonical"].some((U0)=>(U0 in D)))throw new Error("sign() legacy options not supported");let{hash:P,randomBytes:B}=w,{lowS:k,prehash:m,extraEntropy:h}=D;if(k==null)k=!0;if(M=y("msgHash",M),m)M=y("prehashed msgHash",P(M));let s=x(M),Y0=q(j),Z0=[L(Y0),L(s)];if(h!=null){let U0=h===!0?B($.BYTES):h;Z0.push(y("extraEntropy",U0))}let X0=a(...Z0),c0=s;function q8(U0){let j0=Z(U0);if(!W(j0))return;let e8=K(j0),p=G.BASE.multiply(j0).toAffine(),N0=T(p.x);if(N0===e)return;let F0=T(e8*T(c0+N0*Y0));if(F0===e)return;let ff=(p.x===N0?0:2)|Number(p.y&r),wf=F0;if(k&&Y(F0))wf=I(F0),ff^=1;return new X(N0,wf,ff)}return{seed:X0,k2sig:q8}}let g={lowS:w.lowS,prehash:!1},F={lowS:w.lowS,prehash:!1};function J0(M,j,D=g){let{seed:P,k2sig:B}=S(M,j,D),k=w;return E8(k.hash.outputLen,k.nByteLength,k.hmac)(P,B)}G.BASE._setWindowSize(8);function _(M,j,D,P=F){let B=M;if(j=y("msgHash",j),D=y("publicKey",D),"strict"in P)throw new Error("options.strict was renamed to lowS");let{lowS:k,prehash:m}=P,h=void 0,s;try{if(typeof B==="string"||B instanceof Uint8Array)try{h=X.fromDER(B)}catch(p){if(!(p instanceof V0.Err))throw p;h=X.fromCompact(B)}else if(typeof B==="object"&&typeof B.r==="bigint"&&typeof B.s==="bigint"){let{r:p,s:N0}=B;h=new X(p,N0)}else throw new Error("PARSE");s=G.fromHex(D)}catch(p){if(p.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(k&&h.hasHighS())return!1;if(m)j=w.hash(j);let{r:Y0,s:Z0}=h,X0=x(j),c0=K(Z0),q8=T(X0*c0),U0=T(Y0*c0),j0=G.BASE.multiplyAndAddUnsafe(s,q8,U0)?.toAffine();if(!j0)return!1;return T(j0.x)===Y0}return{CURVE:w,getPublicKey:R,getSharedSecret:V,sign:J0,verify:_,ProjectivePoint:G,Signature:X,utils:H}}class k8 extends u0{constructor(f,w){super();this.finished=!1,this.destroyed=!1,If(f);let $=b0(w);if(this.iHash=f.create(),typeof this.iHash.update!=="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let J=this.blockLen,A=new Uint8Array(J);A.set($.length>J?f.create().update($).digest():$);for(let Q=0;Q<A.length;Q++)A[Q]^=54;this.iHash.update(A),this.oHash=f.create();for(let Q=0;Q<A.length;Q++)A[Q]^=106;this.oHash.update(A),A.fill(0)}update(f){return E0(this),this.iHash.update(f),this}digestInto(f){E0(this),j8(f,this.outputLen),this.finished=!0,this.iHash.digestInto(f),this.oHash.update(f),this.oHash.digestInto(f),this.destroy()}digest(){let f=new Uint8Array(this.oHash.outputLen);return this.digestInto(f),f}_cloneInto(f){f||(f=Object.create(Object.getPrototypeOf(this),{}));let{oHash:w,iHash:$,finished:J,destroyed:A,blockLen:Q,outputLen:z}=this;return f=f,f.finished=J,f.destroyed=A,f.blockLen=Q,f.outputLen=z,f.oHash=w._cloneInto(f.oHash),f.iHash=$._cloneInto(f.iHash),f}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}var y8=(f,w,$)=>new k8(f,w).update($).digest();y8.create=(f,w)=>new k8(f,w);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Fw(f){return{hash:f,hmac:(w,...$)=>y8(f,w,Vf(...$)),randomBytes:o0}}function kf(f,w){let $=(J)=>Cf({...f,...Fw(J)});return Object.freeze({...$(w),create:$})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var $8=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),e0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),uf=BigInt(1),f8=BigInt(2),yf=(f,w)=>(f+w/f8)/w;function _f(f){let w=$8,$=BigInt(3),J=BigInt(6),A=BigInt(11),Q=BigInt(22),z=BigInt(23),T=BigInt(44),K=BigInt(88),G=f*f*f%w,q=G*G*f%w,U=l(q,$,w)*q%w,W=l(U,$,w)*q%w,N=l(W,f8,w)*G%w,Y=l(N,A,w)*N%w,I=l(Y,Q,w)*Y%w,O=l(I,T,w)*I%w,X=l(O,K,w)*O%w,H=l(X,T,w)*I%w,R=l(H,$,w)*q%w,E=l(R,z,w)*Y%w,V=l(E,J,w)*G%w,Z=l(V,f8,w);if(!u8.eql(u8.sqr(Z),f))throw new Error("Cannot find square root");return Z}var u8=Df($8,void 0,void 0,{sqrt:_f}),g8=kf({a:BigInt(0),b:BigInt(7),Fp:u8,n:e0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:(f)=>{let w=e0,$=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),J=-uf*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),A=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Q=$,z=BigInt("0x100000000000000000000000000000000"),T=yf(Q*f,w),K=yf(-J*f,w),G=b(f-T*$-K*A,w),q=b(-T*J-K*Q,w),U=G>z,W=q>z;if(U)G=w-G;if(W)q=w-q;if(G>z||q>z)throw new Error("splitScalar: Endomorphism failed, k="+f);return{k1neg:U,k1:G,k2neg:W,k2:q}}}},n0),J8=BigInt(0),df=(f)=>typeof f==="bigint"&&J8<f&&f<$8,hw=(f)=>typeof f==="bigint"&&J8<f&&f<e0,bf={};function w8(f,...w){let $=bf[f];if($===void 0){let J=n0(Uint8Array.from(f,(A)=>A.charCodeAt(0)));$=a(J,J),bf[f]=$}return n0(a($,...w))}var c8=(f)=>f.toRawBytes(!0).slice(1),_8=(f)=>n(f,32),b8=(f)=>b(f,$8),d0=(f)=>b(f,e0),F8=g8.ProjectivePoint,lw=(f,w,$)=>F8.BASE.multiplyAndAddUnsafe(f,w,$);function d8(f){let w=g8.utils.normPrivateKeyToScalar(f),$=F8.fromPrivateKey(w);return{scalar:$.hasEvenY()?w:d0(-w),bytes:c8($)}}function gf(f){if(!df(f))throw new Error("bad x: need 0 < x < p");let w=b8(f*f),$=b8(w*f+BigInt(7)),J=_f($);if(J%f8!==J8)J=b8(-J);let A=new F8(f,J,uf);return A.assertValidity(),A}function cf(...f){return d0(d(w8("BIP0340/challenge",...f)))}function vw(f){return d8(f).bytes}function rw(f,w,$=o0(32)){let J=y("message",f),{bytes:A,scalar:Q}=d8(w),z=y("auxRand",$,32),T=_8(Q^d(w8("BIP0340/aux",z))),K=w8("BIP0340/nonce",T,A,J),G=d0(d(K));if(G===J8)throw new Error("sign failed: k is zero");let{bytes:q,scalar:U}=d8(G),W=cf(q,A,J),N=new Uint8Array(64);if(N.set(q,0),N.set(_8(d0(U+W*Q)),32),!Ff(N,J,A))throw new Error("sign: Invalid signature produced");return N}function Ff(f,w,$){let J=y("signature",f,64),A=y("message",w),Q=y("publicKey",$,32);try{let z=gf(d(Q)),T=d(J.subarray(0,32));if(!df(T))return!1;let K=d(J.subarray(32,64));if(!hw(K))return!1;let G=cf(_8(T),c8(z),A),q=lw(z,K,d0(-G));if(!q||!q.hasEvenY()||q.toAffine().x!==T)return!1;return!0}catch(z){return!1}}var x0=(()=>({getPublicKey:vw,sign:rw,verify:Ff,utils:{randomPrivateKey:g8.utils.randomPrivateKey,lift_x:gf,pointToBytes:c8,numberToBytesBE:n,bytesToNumberBE:d,taggedHash:w8,mod:b}}))();var mw=typeof globalThis==="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */var hf=(f)=>f instanceof Uint8Array;var A8=(f)=>new DataView(f.buffer,f.byteOffset,f.byteLength),i=(f,w)=>f<<32-w|f>>>w,ow=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ow)throw new Error("Non little-endian hardware is not supported");var nw=Array.from({length:256},(f,w)=>w.toString(16).padStart(2,"0"));function D0(f){if(!hf(f))throw new Error("Uint8Array expected");let w="";for(let $=0;$<f.length;$++)w+=nw[f[$]];return w}function iw(f){if(typeof f!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof f}`);return new Uint8Array(new TextEncoder().encode(f))}function h8(f){if(typeof f==="string")f=iw(f);if(!hf(f))throw new Error(`expected Uint8Array, got ${typeof f}`);return f}class l8{clone(){return this._cloneInto()}}function v8(f){let w=(J)=>f().update(h8(J)).digest(),$=f();return w.outputLen=$.outputLen,w.blockLen=$.blockLen,w.create=()=>f(),w}function r8(f){if(!Number.isSafeInteger(f)||f<0)throw new Error(`Wrong positive integer: ${f}`)}function pw(f){if(typeof f!=="boolean")throw new Error(`Expected boolean, not ${f}`)}function lf(f,...w){if(!(f instanceof Uint8Array))throw new Error("Expected Uint8Array");if(w.length>0&&!w.includes(f.length))throw new Error(`Expected Uint8Array of length ${w}, not of length=${f.length}`)}function tw(f){if(typeof f!=="function"||typeof f.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");r8(f.outputLen),r8(f.blockLen)}function sw(f,w=!0){if(f.destroyed)throw new Error("Hash instance has been destroyed");if(w&&f.finished)throw new Error("Hash#digest() has already been called")}function aw(f,w){lf(f);let $=w.outputLen;if(f.length<$)throw new Error(`digestInto() expects output buffer of length at least ${$}`)}var ew={number:r8,bool:pw,bytes:lf,hash:tw,exists:sw,output:aw},Q8=ew;function f$(f,w,$,J){if(typeof f.setBigUint64==="function")return f.setBigUint64(w,$,J);let A=BigInt(32),Q=BigInt(4294967295),z=Number($>>A&Q),T=Number($&Q),K=J?4:0,G=J?0:4;f.setUint32(w+K,z,J),f.setUint32(w+G,T,J)}class m8 extends l8{constructor(f,w,$,J){super();this.blockLen=f,this.outputLen=w,this.padOffset=$,this.isLE=J,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(f),this.view=A8(this.buffer)}update(f){Q8.exists(this);let{view:w,buffer:$,blockLen:J}=this;f=h8(f);let A=f.length;for(let Q=0;Q<A;){let z=Math.min(J-this.pos,A-Q);if(z===J){let T=A8(f);for(;J<=A-Q;Q+=J)this.process(T,Q);continue}if($.set(f.subarray(Q,Q+z),this.pos),this.pos+=z,Q+=z,this.pos===J)this.process(w,0),this.pos=0}return this.length+=f.length,this.roundClean(),this}digestInto(f){Q8.exists(this),Q8.output(f,this),this.finished=!0;let{buffer:w,view:$,blockLen:J,isLE:A}=this,{pos:Q}=this;if(w[Q++]=128,this.buffer.subarray(Q).fill(0),this.padOffset>J-Q)this.process($,0),Q=0;for(let q=Q;q<J;q++)w[q]=0;f$($,J-8,BigInt(this.length*8),A),this.process($,0);let z=A8(f),T=this.outputLen;if(T%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let K=T/4,G=this.get();if(K>G.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<K;q++)z.setUint32(4*q,G[q],A)}digest(){let{buffer:f,outputLen:w}=this;this.digestInto(f);let $=f.slice(0,w);return this.destroy(),$}_cloneInto(f){f||(f=new this.constructor),f.set(...this.get());let{blockLen:w,buffer:$,length:J,finished:A,destroyed:Q,pos:z}=this;if(f.length=J,f.pos=z,f.finished=A,f.destroyed=Q,J%w)f.buffer.set($);return f}}var w$=(f,w,$)=>f&w^~f&$,$$=(f,w,$)=>f&w^f&$^w&$,J$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),T0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),q0=new Uint32Array(64);class o8 extends m8{constructor(){super(64,32,8,!1);this.A=T0[0]|0,this.B=T0[1]|0,this.C=T0[2]|0,this.D=T0[3]|0,this.E=T0[4]|0,this.F=T0[5]|0,this.G=T0[6]|0,this.H=T0[7]|0}get(){let{A:f,B:w,C:$,D:J,E:A,F:Q,G:z,H:T}=this;return[f,w,$,J,A,Q,z,T]}set(f,w,$,J,A,Q,z,T){this.A=f|0,this.B=w|0,this.C=$|0,this.D=J|0,this.E=A|0,this.F=Q|0,this.G=z|0,this.H=T|0}process(f,w){for(let q=0;q<16;q++,w+=4)q0[q]=f.getUint32(w,!1);for(let q=16;q<64;q++){let U=q0[q-15],W=q0[q-2],N=i(U,7)^i(U,18)^U>>>3,Y=i(W,17)^i(W,19)^W>>>10;q0[q]=Y+q0[q-7]+N+q0[q-16]|0}let{A:$,B:J,C:A,D:Q,E:z,F:T,G:K,H:G}=this;for(let q=0;q<64;q++){let U=i(z,6)^i(z,11)^i(z,25),W=G+U+w$(z,T,K)+J$[q]+q0[q]|0,Y=(i($,2)^i($,13)^i($,22))+$$($,J,A)|0;G=K,K=T,T=z,z=Q+W|0,Q=A,A=J,J=$,$=W+Y|0}$=$+this.A|0,J=J+this.B|0,A=A+this.C|0,Q=Q+this.D|0,z=z+this.E|0,T=T+this.F|0,K=K+this.G|0,G=G+this.H|0,this.set($,J,A,Q,z,T,K,G)}roundClean(){q0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class vf extends o8{constructor(){super();this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}var rf=v8(()=>new o8),aA=v8(()=>new vf);var S0=Symbol("verified"),A$=(f)=>f instanceof Object;function Q$(f){if(!A$(f))return!1;if(typeof f.kind!=="number")return!1;if(typeof f.content!=="string")return!1;if(typeof f.created_at!=="number")return!1;if(typeof f.pubkey!=="string")return!1;if(!f.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(f.tags))return!1;for(let w=0;w<f.tags.length;w++){let $=f.tags[w];if(!Array.isArray($))return!1;for(let J=0;J<$.length;J++)if(typeof $[J]==="object")return!1}return!0}var JQ=new TextDecoder("utf-8"),z$=new TextEncoder,K$=class{generateSecretKey(){return x0.utils.randomPrivateKey()}getPublicKey(f){return D0(x0.getPublicKey(f))}finalizeEvent(f,w){let $=f;return $.pubkey=D0(x0.getPublicKey(w)),$.id=n8($),$.sig=D0(x0.sign(n8($),w)),$[S0]=!0,$}verifyEvent(f){if(typeof f[S0]==="boolean")return f[S0];let w=n8(f);if(w!==f.id)return f[S0]=!1,!1;try{let $=x0.verify(f.sig,w,f.pubkey);return f[S0]=$,$}catch($){return f[S0]=!1,!1}}};function T$(f){if(!Q$(f))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,f.pubkey,f.created_at,f.kind,f.tags,f.content])}function n8(f){let w=rf(z$.encode(T$(f)));return D0(w)}var z8=new K$,mf=z8.generateSecretKey,AQ=z8.getPublicKey,QQ=z8.finalizeEvent,zQ=z8.verifyEvent;/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function L0(f){if(!Number.isSafeInteger(f))throw new Error(`Wrong integer: ${f}`)}function f0(...f){let w=(A,Q)=>(z)=>A(Q(z)),$=Array.from(f).reverse().reduce((A,Q)=>A?w(A,Q.encode):Q.encode,void 0),J=f.reduce((A,Q)=>A?w(A,Q.decode):Q.decode,void 0);return{encode:$,decode:J}}function w0(f){return{encode:(w)=>{if(!Array.isArray(w)||w.length&&typeof w[0]!=="number")throw new Error("alphabet.encode input should be an array of numbers");return w.map(($)=>{if(L0($),$<0||$>=f.length)throw new Error(`Digit index outside alphabet: ${$} (alphabet: ${f.length})`);return f[$]})},decode:(w)=>{if(!Array.isArray(w)||w.length&&typeof w[0]!=="string")throw new Error("alphabet.decode input should be array of strings");return w.map(($)=>{if(typeof $!=="string")throw new Error(`alphabet.decode: not string element=${$}`);let J=f.indexOf($);if(J===-1)throw new Error(`Unknown letter: "${$}". Allowed: ${f}`);return J})}}}function $0(f=""){if(typeof f!=="string")throw new Error("join separator should be string");return{encode:(w)=>{if(!Array.isArray(w)||w.length&&typeof w[0]!=="string")throw new Error("join.encode input should be array of strings");for(let $ of w)if(typeof $!=="string")throw new Error(`join.encode: non-string input=${$}`);return w.join(f)},decode:(w)=>{if(typeof w!=="string")throw new Error("join.decode input should be string");return w.split(f)}}}function T8(f,w="="){if(L0(f),typeof w!=="string")throw new Error("padding chr should be string");return{encode($){if(!Array.isArray($)||$.length&&typeof $[0]!=="string")throw new Error("padding.encode input should be array of strings");for(let J of $)if(typeof J!=="string")throw new Error(`padding.encode: non-string input=${J}`);while($.length*f%8)$.push(w);return $},decode($){if(!Array.isArray($)||$.length&&typeof $[0]!=="string")throw new Error("padding.encode input should be array of strings");for(let A of $)if(typeof A!=="string")throw new Error(`padding.decode: non-string input=${A}`);let J=$.length;if(J*f%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;J>0&&$[J-1]===w;J--)if(!((J-1)*f%8))throw new Error("Invalid padding: string has too much padding");return $.slice(0,J)}}}function af(f){if(typeof f!=="function")throw new Error("normalize fn should be function");return{encode:(w)=>w,decode:(w)=>f(w)}}function of(f,w,$){if(w<2)throw new Error(`convertRadix: wrong from=${w}, base cannot be less than 2`);if($<2)throw new Error(`convertRadix: wrong to=${$}, base cannot be less than 2`);if(!Array.isArray(f))throw new Error("convertRadix: data should be array");if(!f.length)return[];let J=0,A=[],Q=Array.from(f);Q.forEach((z)=>{if(L0(z),z<0||z>=w)throw new Error(`Wrong integer: ${z}`)});while(!0){let z=0,T=!0;for(let K=J;K<Q.length;K++){let G=Q[K],q=w*z+G;if(!Number.isSafeInteger(q)||w*z/w!==z||q-G!==w*z)throw new Error("convertRadix: carry overflow");if(z=q%$,Q[K]=Math.floor(q/$),!Number.isSafeInteger(Q[K])||Q[K]*$+z!==q)throw new Error("convertRadix: carry overflow");if(!T)continue;else if(!Q[K])J=K;else T=!1}if(A.push(z),T)break}for(let z=0;z<f.length-1&&f[z]===0;z++)A.push(0);return A.reverse()}var ef=(f,w)=>!w?f:ef(w,f%w),K8=(f,w)=>f+(w-ef(f,w));function i8(f,w,$,J){if(!Array.isArray(f))throw new Error("convertRadix2: data should be array");if(w<=0||w>32)throw new Error(`convertRadix2: wrong from=${w}`);if($<=0||$>32)throw new Error(`convertRadix2: wrong to=${$}`);if(K8(w,$)>32)throw new Error(`convertRadix2: carry overflow from=${w} to=${$} carryBits=${K8(w,$)}`);let A=0,Q=0,z=2**$-1,T=[];for(let K of f){if(L0(K),K>=2**w)throw new Error(`convertRadix2: invalid data word=${K} from=${w}`);if(A=A<<w|K,Q+w>32)throw new Error(`convertRadix2: carry overflow pos=${Q} from=${w}`);Q+=w;for(;Q>=$;Q-=$)T.push((A>>Q-$&z)>>>0);A&=2**Q-1}if(A=A<<$-Q&z,!J&&Q>=w)throw new Error("Excess padding");if(!J&&A)throw new Error(`Non-zero padding: ${A}`);if(J&&Q>0)T.push(A>>>0);return T}function q$(f){return L0(f),{encode:(w)=>{if(!(w instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return of(Array.from(w),256,f)},decode:(w)=>{if(!Array.isArray(w)||w.length&&typeof w[0]!=="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(of(w,f,256))}}}function G0(f,w=!1){if(L0(f),f<=0||f>32)throw new Error("radix2: bits should be in (0..32]");if(K8(8,f)>32||K8(f,8)>32)throw new Error("radix2: carry overflow");return{encode:($)=>{if(!($ instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return i8(Array.from($),8,f,!w)},decode:($)=>{if(!Array.isArray($)||$.length&&typeof $[0]!=="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(i8($,f,8,w))}}}function nf(f){if(typeof f!=="function")throw new Error("unsafeWrapper fn should be function");return function(...w){try{return f.apply(null,w)}catch($){}}}var G$=f0(G0(4),w0("0123456789ABCDEF"),$0("")),Y$=f0(G0(5),w0("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),T8(5),$0("")),qQ=f0(G0(5),w0("0123456789ABCDEFGHIJKLMNOPQRSTUV"),T8(5),$0("")),GQ=f0(G0(5),w0("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),$0(""),af((f)=>f.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),X$=f0(G0(6),w0("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),T8(6),$0("")),U$=f0(G0(6),w0("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),T8(6),$0("")),s8=(f)=>f0(q$(58),w0(f),$0("")),p8=s8("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),YQ=s8("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),XQ=s8("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),pf=[0,2,3,5,6,7,9,10,11],M$={encode(f){let w="";for(let $=0;$<f.length;$+=8){let J=f.subarray($,$+8);w+=p8.encode(J).padStart(pf[J.length],"1")}return w},decode(f){let w=[];for(let $=0;$<f.length;$+=11){let J=f.slice($,$+11),A=pf.indexOf(J.length),Q=p8.decode(J);for(let z=0;z<Q.length-A;z++)if(Q[z]!==0)throw new Error("base58xmr: wrong padding");w=w.concat(Array.from(Q.slice(Q.length-A)))}return Uint8Array.from(w)}};var t8=f0(w0("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),$0("")),tf=[996825010,642813549,513874426,1027748829,705979059];function g0(f){let w=f>>25,$=(f&33554431)<<5;for(let J=0;J<tf.length;J++)if((w>>J&1)===1)$^=tf[J];return $}function sf(f,w,$=1){let J=f.length,A=1;for(let Q=0;Q<J;Q++){let z=f.charCodeAt(Q);if(z<33||z>126)throw new Error(`Invalid prefix (${f})`);A=g0(A)^z>>5}A=g0(A);for(let Q=0;Q<J;Q++)A=g0(A)^f.charCodeAt(Q)&31;for(let Q of w)A=g0(A)^Q;for(let Q=0;Q<6;Q++)A=g0(A);return A^=$,t8.encode(i8([A%1073741824],30,5,!1))}function fw(f){let w=f==="bech32"?1:734539939,$=G0(5),J=$.decode,A=$.encode,Q=nf(J);function z(q,U,W=90){if(typeof q!=="string")throw new Error(`bech32.encode prefix should be string, not ${typeof q}`);if(!Array.isArray(U)||U.length&&typeof U[0]!=="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof U}`);let N=q.length+7+U.length;if(W!==!1&&N>W)throw new TypeError(`Length ${N} exceeds limit ${W}`);return q=q.toLowerCase(),`${q}1${t8.encode(U)}${sf(q,U,w)}`}function T(q,U=90){if(typeof q!=="string")throw new Error(`bech32.decode input should be string, not ${typeof q}`);if(q.length<8||U!==!1&&q.length>U)throw new TypeError(`Wrong string length: ${q.length} (${q}). Expected (8..${U})`);let W=q.toLowerCase();if(q!==W&&q!==q.toUpperCase())throw new Error("String must be lowercase or uppercase");q=W;let N=q.lastIndexOf("1");if(N===0||N===-1)throw new Error('Letter "1" must be present between prefix and data only');let Y=q.slice(0,N),I=q.slice(N+1);if(I.length<6)throw new Error("Data must be at least 6 characters long");let O=t8.decode(I).slice(0,-6),X=sf(Y,O,w);if(!I.endsWith(X))throw new Error(`Invalid checksum in ${q}: expected "${X}"`);return{prefix:Y,words:O}}let K=nf(T);function G(q){let{prefix:U,words:W}=T(q,!1);return{prefix:U,words:W,bytes:J(W)}}return{encode:z,decode:T,decodeToBytes:G,decodeUnsafe:K,fromWords:J,fromWordsUnsafe:Q,toWords:A}}var a8=fw("bech32"),UQ=fw("bech32m"),I$={encode:(f)=>new TextDecoder().decode(f),decode:(f)=>new TextEncoder().encode(f)},O$=f0(G0(4),w0("0123456789abcdef"),$0(""),af((f)=>{if(typeof f!=="string"||f.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof f} with length ${f.length}`);return f.toLowerCase()})),W$={utf8:I$,hex:O$,base16:G$,base32:Y$,base64:X$,base64url:U$,base58:p8,base58xmr:M$},MQ=`Invalid encoding type. Available types: ${Object.keys(W$).join(", ")}`;var jQ=new TextDecoder("utf-8");var V$=5000;function ww(f){return j$("nsec",f)}function Z$(f,w){let $=a8.toWords(w);return a8.encode(f,$,V$)}function j$(f,w){return Z$(f,w)}class $w extends v0{async load(){let f=ww(mf());return Uf.writeText(f).then(()=>{Z8.success(`Copied to clipboard: ${f}`)}).catch((w)=>{Z8.error(`Failed to generate Nsec: ${w}`)})}}Xf(new $w);
